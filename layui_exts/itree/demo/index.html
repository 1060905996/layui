<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>iztree插件</title>
		<link rel="stylesheet" type="text/css" href="../../../layui/css/layui.css" />
		<link rel="stylesheet" type="text/css" href="../../../lib/iconfont/iconfont.css" />
	</head>

	<body>
		<div class="layui-form-item">
			<label class="layui-form-label">label</label>
			<div class="layui-input-block">
				<input id="show" name="show" class="layui-input" placeholder="-" type="text" readonly/>
			</div>
		</div>
		<div class="layui-form-item" style="margin-top: 200px;">
			<div class="layui-input-block">
				<button type="button" class="layui-btn" onclick="setValue()">setValue</button>
				<button type="button" class="layui-btn" onclick="setValue2()">setValue2</button>
				<button type="button" class="layui-btn" onclick="setValue3()">setValue3</button>
				<button type="button" class="layui-btn layui-btn-warm" onclick="getValue()">getValue</button>
				<button type="button" class="layui-btn layui-btn-danger" onclick="getNames()">getNames</button>
			</div>

		</div>
		<script src="../../../layui/layui.js" type="text/javascript" charset="utf-8"></script>
		<script>
			layui.config({
				base: '../../../layui_exts/' //配置 layui 第三方扩展组件存放的基础目录
			}).extend({
				itree: 'itree/itree'
			}).use(['itree', 'jquery'], function() {
				let itree = layui.itree,
					$ = layui.jquery;
				let mytree;
				$(function() {
					var setting = {};
					var zNodes = [
					   {name:"test1", ID:1, open:true, children:[
					      {name:"test1_1",id:2}, {name:"test1_2",id:3}]},
					   {name:"test2",id:4, open:true, children:[
					      {name:"test2_1",id:5}, {name:"test2_2",id:6}]}
					   ];

					mytree = itree.render({
						id: 'show',
						setting: setting,
						zNodes: zNodes,
						headHtml: '<i class="iconfont iconcheckbox-multiple-ma"><span >全选</span></i><i class="iconfont iconcheckbox-multiple-bl"><span>全不选</span></i>'
					});

				})

				window.setValue = function() {
					mytree.setValue("1");
				}
				
				window.setValue2 = function() {
					mytree.setValue(["1","2","3"]);
				}
				
				window.setValue3 = function() {
					mytree.setValue({ids:["1","2","3","4"],key:"id",text:"text"});
				}
				
				window.getValue =function(){
					alert(mytree.getValue());
				}
				window.getNames = function(){
					alert(mytree.getNames());
				}
			});
		</script>

	</body>

</html>